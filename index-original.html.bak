<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitCalc Pro - Advanced Fitness Calculator | BMI, BMR, TDEE, Body Fat, Macros & Heart Rate</title>
    <meta name="description" content="Free advanced fitness calculator with BMI, body fat percentage, BMR, TDEE, calorie goals, macro nutrients, and heart rate zones. Multi-language support.">
    <meta name="keywords" content="BMI calculator, body fat calculator, BMR calculator, TDEE calculator, macro calculator, heart rate zones, fitness tools">
    <meta name="author" content="FitCalc Pro">
    <meta property="og:title" content="FitCalc Pro - Advanced Fitness Calculator">
    <meta property="og:description" content="7-in-1 fitness calculator: BMI, Body Fat, BMR, TDEE, Calories, Macros & Heart Rate Zones">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://via.placeholder.com/1200x630/0a0a0f/00d4ff?text=FitCalc+Pro">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ’ª</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Orbitron:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00d4ff;
            --secondary: #a855f7;
            --accent: #3b82f6;
            --dark: #0a0a0f;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #16213e 100%);
            background-attachment: fixed;
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Animated background particles */
        .bg-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.3;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            animation: float 20s infinite ease-in-out;
        }

        .particle:nth-child(1) {
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, var(--primary) 0%, transparent 70%);
            top: -150px;
            left: -150px;
            animation-delay: 0s;
        }

        .particle:nth-child(2) {
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, var(--secondary) 0%, transparent 70%);
            bottom: -200px;
            right: -200px;
            animation-delay: 7s;
        }

        .particle:nth-child(3) {
            width: 250px;
            height: 250px;
            background: radial-gradient(circle, var(--accent) 0%, transparent 70%);
            top: 50%;
            right: -125px;
            animation-delay: 14s;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(50px, 100px) scale(1.1); }
            50% { transform: translate(-30px, 150px) scale(0.9); }
            75% { transform: translate(80px, 50px) scale(1.05); }
        }

        /* Glassmorphism card */
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .glass-card:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(0, 212, 255, 0.3);
            box-shadow: 0 12px 48px rgba(0, 212, 255, 0.2);
            transform: translateY(-4px);
        }

        /* Custom input styling */
        .custom-input {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px 16px;
            color: #fff;
            font-size: 15px;
            transition: all 0.3s ease;
            width: 100%;
        }

        .custom-input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.08);
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
        }

        .custom-input::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        /* Custom select */
        .custom-select {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px 16px;
            color: #fff;
            font-size: 15px;
            transition: all 0.3s ease;
            width: 100%;
            cursor: pointer;
        }

        .custom-select:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.08);
            border-color: var(--primary);
        }

        .custom-select option {
            background: #1a1a2e;
            color: #fff;
        }

        /* Button styles */
        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            border: none;
            border-radius: 12px;
            padding: 14px 32px;
            color: #fff;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 16px rgba(0, 212, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(0, 212, 255, 0.5);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        /* Result display */
        .result-box {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(168, 85, 247, 0.1) 100%);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 16px;
            padding: 24px;
            margin-top: 20px;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-value {
            font-family: 'Orbitron', monospace;
            font-size: 42px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
            animation: numberPulse 2s ease-in-out infinite;
        }

        @keyframes numberPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        /* Header */
        .header {
            position: relative;
            z-index: 10;
            padding: 32px 0;
        }

        .logo {
            font-family: 'Orbitron', monospace;
            font-size: 32px;
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Language switcher */
        .lang-switcher {
            display: flex;
            gap: 8px;
            background: rgba(255, 255, 255, 0.05);
            padding: 6px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .lang-btn {
            padding: 8px 16px;
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 14px;
        }

        .lang-btn:hover {
            color: #fff;
            background: rgba(255, 255, 255, 0.1);
        }

        .lang-btn.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: #fff;
        }

        /* Calculator tabs */
        .calc-tabs {
            display: flex;
            gap: 12px;
            margin-bottom: 32px;
            overflow-x: auto;
            padding-bottom: 8px;
        }

        .calc-tabs::-webkit-scrollbar {
            height: 4px;
        }

        .calc-tabs::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }

        .calc-tabs::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        .calc-tab {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-weight: 500;
            font-size: 14px;
        }

        .calc-tab:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .calc-tab.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            border-color: transparent;
            box-shadow: 0 4px 16px rgba(0, 212, 255, 0.3);
        }

        /* Calculator content */
        .calc-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .calc-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Form grid */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
        }

        /* Radio buttons */
        .radio-group {
            display: flex;
            gap: 16px;
        }

        .radio-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 10px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .radio-label:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .radio-label input[type="radio"]:checked + span {
            color: var(--primary);
        }

        .radio-label input[type="radio"] {
            accent-color: var(--primary);
        }

        /* Loading indicator */
        .save-indicator {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: rgba(0, 212, 255, 0.9);
            color: #fff;
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 4px 16px rgba(0, 212, 255, 0.5);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .save-indicator.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .logo {
                font-size: 24px;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .calc-tabs {
                gap: 8px;
            }

            .calc-tab {
                padding: 10px 16px;
                font-size: 13px;
            }

            .result-value {
                font-size: 32px;
            }
        }

        /* Category labels */
        .category-label {
            display: inline-block;
            padding: 4px 12px;
            background: rgba(0, 212, 255, 0.2);
            border: 1px solid rgba(0, 212, 255, 0.4);
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            margin-top: 8px;
        }

        /* Progress bar for macros */
        .macro-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 8px;
        }

        .macro-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            transition: width 0.5s ease;
        }

        /* Heart rate zone colors */
        .zone-very-light { color: #10b981; }
        .zone-light { color: #3b82f6; }
        .zone-moderate { color: #f59e0b; }
        .zone-hard { color: #ef4444; }
        .zone-maximum { color: #dc2626; }
    </style>
</head>
<body>
    <!-- Background particles -->
    <div class="bg-particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <!-- Main container -->
    <div class="relative z-10 container mx-auto px-4 py-8 max-w-6xl">
        <!-- Header -->
        <header class="header flex flex-col md:flex-row justify-between items-center gap-6 mb-12">
            <div>
                <h1 class="logo">FITCALC PRO</h1>
                <p class="text-sm text-gray-400 mt-2" id="subtitle">Advanced Fitness & Health Calculator</p>
            </div>
            <div class="lang-switcher">
                <button class="lang-btn active" data-lang="en">EN</button>
                <button class="lang-btn" data-lang="zh">ä¸­æ–‡</button>
                <button class="lang-btn" data-lang="ja">æ—¥æœ¬èª</button>
                <button class="lang-btn" data-lang="ko">í•œêµ­ì–´</button>
                <button id="unit-toggle" class="lang-btn" style="margin-left: 10px; font-size: 11px;" onclick="toggleUnits()">Metric</button>
            </div>
        </header>

        <!-- Calculator tabs -->
        <div class="calc-tabs">
            <button class="calc-tab active" data-calc="bmi" id="tab-bmi">BMI Calculator</button>
            <button class="calc-tab" data-calc="bodyfat" id="tab-bodyfat">Body Fat %</button>
            <button class="calc-tab" data-calc="bmr" id="tab-bmr">BMR Calculator</button>
            <button class="calc-tab" data-calc="tdee" id="tab-tdee">TDEE Calculator</button>
            <button class="calc-tab" data-calc="calories" id="tab-calories">Calorie Goals</button>
            <button class="calc-tab" data-calc="macros" id="tab-macros">Macros Calculator</button>
            <button class="calc-tab" data-calc="heartrate" id="tab-heartrate">Heart Rate Zones</button>
        </div>

        <!-- BMI Calculator -->
        <div class="calc-content active" id="calc-bmi">
            <div class="glass-card p-8">
                <h2 class="text-2xl font-bold mb-6" id="bmi-title">Body Mass Index (BMI) Calculator</h2>
                <form id="bmi-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="bmi-weight" id="label-weight">Weight (kg)</label>
                            <input type="number" id="bmi-weight" class="custom-input" placeholder="70" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="bmi-height" id="label-height">Height (cm)</label>
                            <input type="number" id="bmi-height" class="custom-input" placeholder="170" step="0.1" required>
                        </div>
                    </div>
                    <button type="submit" class="btn-primary w-full md:w-auto" id="btn-calculate-bmi">Calculate BMI</button>
                </form>
                <div id="bmi-result" class="hidden"></div>
            </div>
        </div>

        <!-- Body Fat Calculator -->
        <div class="calc-content" id="calc-bodyfat">
            <div class="glass-card p-8">
                <h2 class="text-2xl font-bold mb-6" id="bodyfat-title">Body Fat Percentage Calculator</h2>
                <form id="bodyfat-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label id="label-gender">Gender</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="bf-gender" value="male" checked>
                                    <span id="gender-male">Male</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="bf-gender" value="female">
                                    <span id="gender-female">Female</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="bf-weight" id="label-weight-bf">Weight (kg)</label>
                            <input type="number" id="bf-weight" class="custom-input" placeholder="70" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="bf-height" id="label-height-bf">Height (cm)</label>
                            <input type="number" id="bf-height" class="custom-input" placeholder="170" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="bf-age" id="label-age-bf">Age</label>
                            <input type="number" id="bf-age" class="custom-input" placeholder="30" required>
                        </div>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="bf-neck" id="label-neck">Neck (cm)</label>
                            <input type="number" id="bf-neck" class="custom-input" placeholder="37" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="bf-waist" id="label-waist">Waist (cm)</label>
                            <input type="number" id="bf-waist" class="custom-input" placeholder="85" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="bf-hip" id="label-hip">Hip (cm) <span class="text-sm text-gray-400" id="label-female-only">(Female only)</span></label>
                            <input type="number" id="bf-hip" class="custom-input" placeholder="95" step="0.1">
                        </div>
                    </div>
                    <button type="submit" class="btn-primary w-full md:w-auto" id="btn-calculate-bf">Calculate Body Fat</button>
                </form>
                <div id="bodyfat-result" class="hidden"></div>
            </div>
        </div>

        <!-- BMR Calculator -->
        <div class="calc-content" id="calc-bmr">
            <div class="glass-card p-8">
                <h2 class="text-2xl font-bold mb-6" id="bmr-title">Basal Metabolic Rate (BMR) Calculator</h2>
                <form id="bmr-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label id="label-gender-bmr">Gender</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="bmr-gender" value="male" checked>
                                    <span id="gender-male-bmr">Male</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="bmr-gender" value="female">
                                    <span id="gender-female-bmr">Female</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="bmr-weight" id="label-weight-bmr">Weight (kg)</label>
                            <input type="number" id="bmr-weight" class="custom-input" placeholder="70" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="bmr-height" id="label-height-bmr">Height (cm)</label>
                            <input type="number" id="bmr-height" class="custom-input" placeholder="170" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="bmr-age" id="label-age-bmr">Age</label>
                            <input type="number" id="bmr-age" class="custom-input" placeholder="30" required>
                        </div>
                    </div>
                    <button type="submit" class="btn-primary w-full md:w-auto" id="btn-calculate-bmr">Calculate BMR</button>
                </form>
                <div id="bmr-result" class="hidden"></div>
            </div>
        </div>

        <!-- TDEE Calculator -->
        <div class="calc-content" id="calc-tdee">
            <div class="glass-card p-8">
                <h2 class="text-2xl font-bold mb-6" id="tdee-title">Total Daily Energy Expenditure (TDEE) Calculator</h2>
                <form id="tdee-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label id="label-gender-tdee">Gender</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="tdee-gender" value="male" checked>
                                    <span id="gender-male-tdee">Male</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="tdee-gender" value="female">
                                    <span id="gender-female-tdee">Female</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="tdee-weight" id="label-weight-tdee">Weight (kg)</label>
                            <input type="number" id="tdee-weight" class="custom-input" placeholder="70" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="tdee-height" id="label-height-tdee">Height (cm)</label>
                            <input type="number" id="tdee-height" class="custom-input" placeholder="170" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="tdee-age" id="label-age-tdee">Age</label>
                            <input type="number" id="tdee-age" class="custom-input" placeholder="30" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="tdee-activity" id="label-activity">Activity Level</label>
                        <select id="tdee-activity" class="custom-select" required>
                            <option value="1.2" id="activity-sedentary">Sedentary (little or no exercise)</option>
                            <option value="1.375" id="activity-light">Lightly active (1-3 days/week)</option>
                            <option value="1.55" id="activity-moderate">Moderately active (3-5 days/week)</option>
                            <option value="1.725" id="activity-very">Very active (6-7 days/week)</option>
                            <option value="1.9" id="activity-extra">Extra active (physical job or 2x training)</option>
                        </select>
                    </div>
                    <button type="submit" class="btn-primary w-full md:w-auto" id="btn-calculate-tdee">Calculate TDEE</button>
                </form>
                <div id="tdee-result" class="hidden"></div>
            </div>
        </div>

        <!-- Calorie Goals Calculator -->
        <div class="calc-content" id="calc-calories">
            <div class="glass-card p-8">
                <h2 class="text-2xl font-bold mb-6" id="calories-title">Calorie Goals Calculator</h2>
                <form id="calories-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label id="label-gender-cal">Gender</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="cal-gender" value="male" checked>
                                    <span id="gender-male-cal">Male</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="cal-gender" value="female">
                                    <span id="gender-female-cal">Female</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="cal-weight" id="label-weight-cal">Weight (kg)</label>
                            <input type="number" id="cal-weight" class="custom-input" placeholder="70" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="cal-height" id="label-height-cal">Height (cm)</label>
                            <input type="number" id="cal-height" class="custom-input" placeholder="170" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="cal-age" id="label-age-cal">Age</label>
                            <input type="number" id="cal-age" class="custom-input" placeholder="30" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="cal-activity" id="label-activity-cal">Activity Level</label>
                        <select id="cal-activity" class="custom-select" required>
                            <option value="1.2" id="activity-sedentary-cal">Sedentary (little or no exercise)</option>
                            <option value="1.375" id="activity-light-cal">Lightly active (1-3 days/week)</option>
                            <option value="1.55" id="activity-moderate-cal">Moderately active (3-5 days/week)</option>
                            <option value="1.725" id="activity-very-cal">Very active (6-7 days/week)</option>
                            <option value="1.9" id="activity-extra-cal">Extra active (physical job or 2x training)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="cal-goal" id="label-goal">Goal</label>
                        <select id="cal-goal" class="custom-select" required>
                            <option value="lose" id="goal-lose">Lose Weight (0.5 kg/week)</option>
                            <option value="lose-fast" id="goal-lose-fast">Lose Weight Fast (1 kg/week)</option>
                            <option value="maintain" id="goal-maintain">Maintain Weight</option>
                            <option value="gain" id="goal-gain">Gain Weight (0.5 kg/week)</option>
                            <option value="gain-fast" id="goal-gain-fast">Gain Weight Fast (1 kg/week)</option>
                        </select>
                    </div>
                    <button type="submit" class="btn-primary w-full md:w-auto" id="btn-calculate-cal">Calculate Calorie Goals</button>
                </form>
                <div id="calories-result" class="hidden"></div>
            </div>
        </div>

        <!-- Macros Calculator -->
        <div class="calc-content" id="calc-macros">
            <div class="glass-card p-8">
                <h2 class="text-2xl font-bold mb-6" id="macros-title">Macronutrient Calculator</h2>
                <form id="macros-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="macros-calories" id="label-target-cal">Target Calories</label>
                            <input type="number" id="macros-calories" class="custom-input" placeholder="2000" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="macros-diet" id="label-diet-type">Diet Type</label>
                        <select id="macros-diet" class="custom-select" required>
                            <option value="balanced" id="diet-balanced">Balanced (40/30/30)</option>
                            <option value="low-carb" id="diet-low-carb">Low Carb (30/40/30)</option>
                            <option value="high-protein" id="diet-high-protein">High Protein (30/40/30)</option>
                            <option value="keto" id="diet-keto">Keto (5/25/70)</option>
                            <option value="high-carb" id="diet-high-carb">High Carb (50/25/25)</option>
                        </select>
                    </div>
                    <button type="submit" class="btn-primary w-full md:w-auto" id="btn-calculate-macros">Calculate Macros</button>
                </form>
                <div id="macros-result" class="hidden"></div>
            </div>
        </div>

        <!-- Heart Rate Zones Calculator -->
        <div class="calc-content" id="calc-heartrate">
            <div class="glass-card p-8">
                <h2 class="text-2xl font-bold mb-6" id="heartrate-title">Heart Rate Zones Calculator</h2>
                <form id="heartrate-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="hr-age" id="label-age-hr">Age</label>
                            <input type="number" id="hr-age" class="custom-input" placeholder="30" required>
                        </div>
                        <div class="form-group">
                            <label for="hr-resting" id="label-resting-hr">Resting Heart Rate (optional)</label>
                            <input type="number" id="hr-resting" class="custom-input" placeholder="60">
                        </div>
                    </div>
                    <button type="submit" class="btn-primary w-full md:w-auto" id="btn-calculate-hr">Calculate Heart Rate Zones</button>
                </form>
                <div id="heartrate-result" class="hidden"></div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="mt-16 text-center text-gray-400 text-sm">
            <p id="footer-text">Medical-grade formulas â€¢ Data saved locally â€¢ Privacy first</p>
            <p class="mt-2" id="footer-disclaimer">Disclaimer: This calculator is for informational purposes only. Consult a healthcare professional for medical advice.</p>
        </footer>
    </div>

    <!-- Save indicator -->
    <div class="save-indicator" id="save-indicator">
        <span id="save-text">âœ“ Data saved</span>
    </div>

    <script>
        // Input Validation Functions
        function validateInput(value, min, max, fieldName) {
            const num = parseFloat(value);
            if (isNaN(num) || num < min || num > max) {
                const errorMsg = currentLang === 'zh' ? `${fieldName} å¿…é¡»åœ¨ ${min} åˆ° ${max} ä¹‹é—´` :
                               currentLang === 'ja' ? `${fieldName} ã¯ ${min} ã‹ã‚‰ ${max} ã®é–“ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™` :
                               currentLang === 'ko' ? `${fieldName}ì€(ëŠ”) ${min}ì—ì„œ ${max} ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤` :
                               `${fieldName} must be between ${min} and ${max}`;
                alert(errorMsg);
                return null;
            }
            return num;
        }

        function validateAge(value) {
            return validateInput(value, 1, 120, translations[currentLang]['label-age'] || 'Age');
        }

        function validateWeight(value) {
            return validateInput(value, 1, 500, translations[currentLang]['label-weight'] || 'Weight');
        }

        function validateHeight(value) {
            return validateInput(value, 1, 300, translations[currentLang]['label-height'] || 'Height');
        }

        // Unit Conversion Functions
        let isMetric = localStorage.getItem('unitSystem') !== 'imperial';

        function lbsToKg(lbs) {
            return lbs * 0.453592;
        }

        function kgToLbs(kg) {
            return kg * 2.20462;
        }

        function inchesToCm(inches) {
            return inches * 2.54;
        }

        function cmToInches(cm) {
            return cm * 0.393701;
        }

        function ftInToCm(ft, inches) {
            return (ft * 12 + inches) * 2.54;
        }

        function toggleUnits() {
            isMetric = !isMetric;
            localStorage.setItem('unitSystem', isMetric ? 'metric' : 'imperial');
            updateUnitLabels();
            return isMetric;
        }

        function updateUnitLabels() {
            const unitLabels = document.querySelectorAll('.unit-label');
            unitLabels.forEach(label => {
                const type = label.dataset.unit;
                if (type === 'weight') {
                    label.textContent = isMetric ? 'kg' : 'lbs';
                } else if (type === 'height') {
                    label.textContent = isMetric ? 'cm' : 'in';
                }
            });
        }

        // Translations
        const translations = {
            en: {
                subtitle: "Advanced Fitness & Health Calculator",
                "tab-bmi": "BMI Calculator",
                "tab-bodyfat": "Body Fat %",
                "tab-bmr": "BMR Calculator",
                "tab-tdee": "TDEE Calculator",
                "tab-calories": "Calorie Goals",
                "tab-macros": "Macros Calculator",
                "tab-heartrate": "Heart Rate Zones",
                "bmi-title": "Body Mass Index (BMI) Calculator",
                "label-weight": "Weight (kg)",
                "label-height": "Height (cm)",
                "btn-calculate-bmi": "Calculate BMI",
                "bodyfat-title": "Body Fat Percentage Calculator",
                "label-gender": "Gender",
                "gender-male": "Male",
                "gender-female": "Female",
                "label-weight-bf": "Weight (kg)",
                "label-height-bf": "Height (cm)",
                "label-age-bf": "Age",
                "label-neck": "Neck (cm)",
                "label-waist": "Waist (cm)",
                "label-hip": "Hip (cm)",
                "label-female-only": "(Female only)",
                "btn-calculate-bf": "Calculate Body Fat",
                "bmr-title": "Basal Metabolic Rate (BMR) Calculator",
                "label-gender-bmr": "Gender",
                "gender-male-bmr": "Male",
                "gender-female-bmr": "Female",
                "label-weight-bmr": "Weight (kg)",
                "label-height-bmr": "Height (cm)",
                "label-age-bmr": "Age",
                "btn-calculate-bmr": "Calculate BMR",
                "tdee-title": "Total Daily Energy Expenditure (TDEE) Calculator",
                "label-gender-tdee": "Gender",
                "gender-male-tdee": "Male",
                "gender-female-tdee": "Female",
                "label-weight-tdee": "Weight (kg)",
                "label-height-tdee": "Height (cm)",
                "label-age-tdee": "Age",
                "label-activity": "Activity Level",
                "activity-sedentary": "Sedentary (little or no exercise)",
                "activity-light": "Lightly active (1-3 days/week)",
                "activity-moderate": "Moderately active (3-5 days/week)",
                "activity-very": "Very active (6-7 days/week)",
                "activity-extra": "Extra active (physical job or 2x training)",
                "btn-calculate-tdee": "Calculate TDEE",
                "calories-title": "Calorie Goals Calculator",
                "label-gender-cal": "Gender",
                "gender-male-cal": "Male",
                "gender-female-cal": "Female",
                "label-weight-cal": "Weight (kg)",
                "label-height-cal": "Height (cm)",
                "label-age-cal": "Age",
                "label-activity-cal": "Activity Level",
                "activity-sedentary-cal": "Sedentary (little or no exercise)",
                "activity-light-cal": "Lightly active (1-3 days/week)",
                "activity-moderate-cal": "Moderately active (3-5 days/week)",
                "activity-very-cal": "Very active (6-7 days/week)",
                "activity-extra-cal": "Extra active (physical job or 2x training)",
                "label-goal": "Goal",
                "goal-lose": "Lose Weight (0.5 kg/week)",
                "goal-lose-fast": "Lose Weight Fast (1 kg/week)",
                "goal-maintain": "Maintain Weight",
                "goal-gain": "Gain Weight (0.5 kg/week)",
                "goal-gain-fast": "Gain Weight Fast (1 kg/week)",
                "btn-calculate-cal": "Calculate Calorie Goals",
                "macros-title": "Macronutrient Calculator",
                "label-target-cal": "Target Calories",
                "label-diet-type": "Diet Type",
                "diet-balanced": "Balanced (40/30/30)",
                "diet-low-carb": "Low Carb (30/40/30)",
                "diet-high-protein": "High Protein (30/40/30)",
                "diet-keto": "Keto (5/25/70)",
                "diet-high-carb": "High Carb (50/25/25)",
                "btn-calculate-macros": "Calculate Macros",
                "heartrate-title": "Heart Rate Zones Calculator",
                "label-age-hr": "Age",
                "label-resting-hr": "Resting Heart Rate (optional)",
                "btn-calculate-hr": "Calculate Heart Rate Zones",
                "footer-text": "Medical-grade formulas â€¢ Data saved locally â€¢ Privacy first",
                "footer-disclaimer": "Disclaimer: This calculator is for informational purposes only. Consult a healthcare professional for medical advice.",
                "save-text": "âœ“ Data saved",
                // Result texts
                "your-bmi": "Your BMI",
                "category": "Category",
                "underweight": "Underweight",
                "normal": "Normal weight",
                "overweight": "Overweight",
                "obese": "Obese",
                "your-bodyfat": "Your Body Fat",
                "essential-fat": "Essential Fat",
                "athletes": "Athletes",
                "fitness": "Fitness",
                "average": "Average",
                "your-bmr": "Your BMR",
                "calories-per-day": "calories/day",
                "bmr-description": "This is the number of calories your body needs at rest to maintain vital functions.",
                "your-tdee": "Your TDEE",
                "tdee-description": "This is your Total Daily Energy Expenditure based on your activity level.",
                "your-calorie-goal": "Your Calorie Goal",
                "maintenance": "Maintenance",
                "protein": "Protein",
                "carbs": "Carbohydrates",
                "fat": "Fat",
                "grams-per-day": "g/day",
                "calories": "calories",
                "of-total": "of total",
                "heart-rate-zones": "Heart Rate Zones",
                "max-hr": "Max Heart Rate",
                "bpm": "bpm",
                "zone-1": "Zone 1: Very Light",
                "zone-2": "Zone 2: Light",
                "zone-3": "Zone 3: Moderate",
                "zone-4": "Zone 4: Hard",
                "zone-5": "Zone 5: Maximum",
                "zone-1-desc": "Warm up, recovery",
                "zone-2-desc": "Fat burning, base fitness",
                "zone-3-desc": "Aerobic training",
                "zone-4-desc": "Anaerobic threshold",
                "zone-5-desc": "Maximum effort"
            },
            zh: {
                subtitle: "é«˜çº§å¥èº«ä¸å¥åº·è®¡ç®—å™¨",
                "tab-bmi": "BMI è®¡ç®—å™¨",
                "tab-bodyfat": "ä½“è„‚ç‡",
                "tab-bmr": "BMR è®¡ç®—å™¨",
                "tab-tdee": "TDEE è®¡ç®—å™¨",
                "tab-calories": "å¡è·¯é‡Œç›®æ ‡",
                "tab-macros": "è¥å…»ç´ è®¡ç®—å™¨",
                "tab-heartrate": "å¿ƒç‡åŒºé—´",
                "bmi-title": "èº«ä½“è´¨é‡æŒ‡æ•° (BMI) è®¡ç®—å™¨",
                "label-weight": "ä½“é‡ (å…¬æ–¤)",
                "label-height": "èº«é«˜ (å˜ç±³)",
                "btn-calculate-bmi": "è®¡ç®— BMI",
                "bodyfat-title": "ä½“è„‚ç‡è®¡ç®—å™¨",
                "label-gender": "æ€§åˆ«",
                "gender-male": "ç”·æ€§",
                "gender-female": "å¥³æ€§",
                "label-weight-bf": "ä½“é‡ (å…¬æ–¤)",
                "label-height-bf": "èº«é«˜ (å˜ç±³)",
                "label-age-bf": "å¹´é¾„",
                "label-neck": "é¢ˆå›´ (å˜ç±³)",
                "label-waist": "è…°å›´ (å˜ç±³)",
                "label-hip": "è‡€å›´ (å˜ç±³)",
                "label-female-only": "(ä»…é™å¥³æ€§)",
                "btn-calculate-bf": "è®¡ç®—ä½“è„‚ç‡",
                "bmr-title": "åŸºç¡€ä»£è°¢ç‡ (BMR) è®¡ç®—å™¨",
                "label-gender-bmr": "æ€§åˆ«",
                "gender-male-bmr": "ç”·æ€§",
                "gender-female-bmr": "å¥³æ€§",
                "label-weight-bmr": "ä½“é‡ (å…¬æ–¤)",
                "label-height-bmr": "èº«é«˜ (å˜ç±³)",
                "label-age-bmr": "å¹´é¾„",
                "btn-calculate-bmr": "è®¡ç®— BMR",
                "tdee-title": "æ¯æ—¥æ€»èƒ½é‡æ¶ˆè€— (TDEE) è®¡ç®—å™¨",
                "label-gender-tdee": "æ€§åˆ«",
                "gender-male-tdee": "ç”·æ€§",
                "gender-female-tdee": "å¥³æ€§",
                "label-weight-tdee": "ä½“é‡ (å…¬æ–¤)",
                "label-height-tdee": "èº«é«˜ (å˜ç±³)",
                "label-age-tdee": "å¹´é¾„",
                "label-activity": "æ´»åŠ¨æ°´å¹³",
                "activity-sedentary": "ä¹…å (å‡ ä¹ä¸è¿åŠ¨)",
                "activity-light": "è½»åº¦æ´»åŠ¨ (æ¯å‘¨1-3å¤©)",
                "activity-moderate": "ä¸­åº¦æ´»åŠ¨ (æ¯å‘¨3-5å¤©)",
                "activity-very": "é«˜åº¦æ´»åŠ¨ (æ¯å‘¨6-7å¤©)",
                "activity-extra": "è¶…é«˜æ´»åŠ¨ (ä½“åŠ›å·¥ä½œæˆ–æ¯å¤©2æ¬¡è®­ç»ƒ)",
                "btn-calculate-tdee": "è®¡ç®— TDEE",
                "calories-title": "å¡è·¯é‡Œç›®æ ‡è®¡ç®—å™¨",
                "label-gender-cal": "æ€§åˆ«",
                "gender-male-cal": "ç”·æ€§",
                "gender-female-cal": "å¥³æ€§",
                "label-weight-cal": "ä½“é‡ (å…¬æ–¤)",
                "label-height-cal": "èº«é«˜ (å˜ç±³)",
                "label-age-cal": "å¹´é¾„",
                "label-activity-cal": "æ´»åŠ¨æ°´å¹³",
                "activity-sedentary-cal": "ä¹…å (å‡ ä¹ä¸è¿åŠ¨)",
                "activity-light-cal": "è½»åº¦æ´»åŠ¨ (æ¯å‘¨1-3å¤©)",
                "activity-moderate-cal": "ä¸­åº¦æ´»åŠ¨ (æ¯å‘¨3-5å¤©)",
                "activity-very-cal": "é«˜åº¦æ´»åŠ¨ (æ¯å‘¨6-7å¤©)",
                "activity-extra-cal": "è¶…é«˜æ´»åŠ¨ (ä½“åŠ›å·¥ä½œæˆ–æ¯å¤©2æ¬¡è®­ç»ƒ)",
                "label-goal": "ç›®æ ‡",
                "goal-lose": "å‡é‡ (æ¯å‘¨0.5å…¬æ–¤)",
                "goal-lose-fast": "å¿«é€Ÿå‡é‡ (æ¯å‘¨1å…¬æ–¤)",
                "goal-maintain": "ç»´æŒä½“é‡",
                "goal-gain": "å¢é‡ (æ¯å‘¨0.5å…¬æ–¤)",
                "goal-gain-fast": "å¿«é€Ÿå¢é‡ (æ¯å‘¨1å…¬æ–¤)",
                "btn-calculate-cal": "è®¡ç®—å¡è·¯é‡Œç›®æ ‡",
                "macros-title": "å®é‡è¥å…»ç´ è®¡ç®—å™¨",
                "label-target-cal": "ç›®æ ‡å¡è·¯é‡Œ",
                "label-diet-type": "é¥®é£Ÿç±»å‹",
                "diet-balanced": "å‡è¡¡ (40/30/30)",
                "diet-low-carb": "ä½ç¢³æ°´ (30/40/30)",
                "diet-high-protein": "é«˜è›‹ç™½ (30/40/30)",
                "diet-keto": "ç”Ÿé…® (5/25/70)",
                "diet-high-carb": "é«˜ç¢³æ°´ (50/25/25)",
                "btn-calculate-macros": "è®¡ç®—è¥å…»ç´ ",
                "heartrate-title": "å¿ƒç‡åŒºé—´è®¡ç®—å™¨",
                "label-age-hr": "å¹´é¾„",
                "label-resting-hr": "é™æ¯å¿ƒç‡ (å¯é€‰)",
                "btn-calculate-hr": "è®¡ç®—å¿ƒç‡åŒºé—´",
                "footer-text": "åŒ»å­¦çº§å…¬å¼ â€¢ æœ¬åœ°å­˜å‚¨æ•°æ® â€¢ éšç§ä¼˜å…ˆ",
                "footer-disclaimer": "å…è´£å£°æ˜ï¼šæœ¬è®¡ç®—å™¨ä»…ä¾›å‚è€ƒï¼Œè¯·å’¨è¯¢åŒ»ç–—ä¸“ä¸šäººå£«è·å–åŒ»ç–—å»ºè®®ã€‚",
                "save-text": "âœ“ æ•°æ®å·²ä¿å­˜",
                "your-bmi": "æ‚¨çš„ BMI",
                "category": "ç±»åˆ«",
                "underweight": "ä½“é‡è¿‡è½»",
                "normal": "æ­£å¸¸ä½“é‡",
                "overweight": "è¶…é‡",
                "obese": "è‚¥èƒ–",
                "your-bodyfat": "æ‚¨çš„ä½“è„‚ç‡",
                "essential-fat": "å¿…éœ€è„‚è‚ª",
                "athletes": "è¿åŠ¨å‘˜",
                "fitness": "å¥èº«",
                "average": "å¹³å‡",
                "your-bmr": "æ‚¨çš„ BMR",
                "calories-per-day": "å¡è·¯é‡Œ/å¤©",
                "bmr-description": "è¿™æ˜¯æ‚¨çš„èº«ä½“åœ¨é™æ¯çŠ¶æ€ä¸‹ç»´æŒåŸºæœ¬åŠŸèƒ½æ‰€éœ€çš„å¡è·¯é‡Œæ•°é‡ã€‚",
                "your-tdee": "æ‚¨çš„ TDEE",
                "tdee-description": "è¿™æ˜¯æ‚¨åŸºäºæ´»åŠ¨æ°´å¹³çš„æ¯æ—¥æ€»èƒ½é‡æ¶ˆè€—ã€‚",
                "your-calorie-goal": "æ‚¨çš„å¡è·¯é‡Œç›®æ ‡",
                "maintenance": "ç»´æŒ",
                "protein": "è›‹ç™½è´¨",
                "carbs": "ç¢³æ°´åŒ–åˆç‰©",
                "fat": "è„‚è‚ª",
                "grams-per-day": "å…‹/å¤©",
                "calories": "å¡è·¯é‡Œ",
                "of-total": "å æ€»é‡",
                "heart-rate-zones": "å¿ƒç‡åŒºé—´",
                "max-hr": "æœ€å¤§å¿ƒç‡",
                "bpm": "æ¬¡/åˆ†",
                "zone-1": "åŒºé—´1ï¼šæè½»åº¦",
                "zone-2": "åŒºé—´2ï¼šè½»åº¦",
                "zone-3": "åŒºé—´3ï¼šä¸­åº¦",
                "zone-4": "åŒºé—´4ï¼šé«˜å¼ºåº¦",
                "zone-5": "åŒºé—´5ï¼šæœ€å¤§å¼ºåº¦",
                "zone-1-desc": "çƒ­èº«ï¼Œæ¢å¤",
                "zone-2-desc": "ç‡ƒè„‚ï¼ŒåŸºç¡€ä½“èƒ½",
                "zone-3-desc": "æœ‰æ°§è®­ç»ƒ",
                "zone-4-desc": "æ— æ°§é˜ˆå€¼",
                "zone-5-desc": "æœ€å¤§åŠªåŠ›"
            },
            ja: {
                subtitle: "é«˜åº¦ãªãƒ•ã‚£ãƒƒãƒˆãƒã‚¹ãƒ»å¥åº·è¨ˆç®—æ©Ÿ",
                "tab-bmi": "BMI è¨ˆç®—æ©Ÿ",
                "tab-bodyfat": "ä½“è„‚è‚ªç‡",
                "tab-bmr": "BMR è¨ˆç®—æ©Ÿ",
                "tab-tdee": "TDEE è¨ˆç®—æ©Ÿ",
                "tab-calories": "ã‚«ãƒ­ãƒªãƒ¼ç›®æ¨™",
                "tab-macros": "ãƒã‚¯ãƒ­è¨ˆç®—æ©Ÿ",
                "tab-heartrate": "å¿ƒæ‹ã‚¾ãƒ¼ãƒ³",
                "bmi-title": "ãƒœãƒ‡ã‚£ãƒã‚¹æŒ‡æ•° (BMI) è¨ˆç®—æ©Ÿ",
                "label-weight": "ä½“é‡ (kg)",
                "label-height": "èº«é•· (cm)",
                "btn-calculate-bmi": "BMIã‚’è¨ˆç®—",
                "bodyfat-title": "ä½“è„‚è‚ªç‡è¨ˆç®—æ©Ÿ",
                "label-gender": "æ€§åˆ¥",
                "gender-male": "ç”·æ€§",
                "gender-female": "å¥³æ€§",
                "label-weight-bf": "ä½“é‡ (kg)",
                "label-height-bf": "èº«é•· (cm)",
                "label-age-bf": "å¹´é½¢",
                "label-neck": "é¦–å‘¨ã‚Š (cm)",
                "label-waist": "ã‚¦ã‚¨ã‚¹ãƒˆ (cm)",
                "label-hip": "ãƒ’ãƒƒãƒ— (cm)",
                "label-female-only": "(å¥³æ€§ã®ã¿)",
                "btn-calculate-bf": "ä½“è„‚è‚ªç‡ã‚’è¨ˆç®—",
                "bmr-title": "åŸºç¤ä»£è¬é‡ (BMR) è¨ˆç®—æ©Ÿ",
                "label-gender-bmr": "æ€§åˆ¥",
                "gender-male-bmr": "ç”·æ€§",
                "gender-female-bmr": "å¥³æ€§",
                "label-weight-bmr": "ä½“é‡ (kg)",
                "label-height-bmr": "èº«é•· (cm)",
                "label-age-bmr": "å¹´é½¢",
                "btn-calculate-bmr": "BMRã‚’è¨ˆç®—",
                "tdee-title": "ç·æ¶ˆè²»ã‚«ãƒ­ãƒªãƒ¼ (TDEE) è¨ˆç®—æ©Ÿ",
                "label-gender-tdee": "æ€§åˆ¥",
                "gender-male-tdee": "ç”·æ€§",
                "gender-female-tdee": "å¥³æ€§",
                "label-weight-tdee": "ä½“é‡ (kg)",
                "label-height-tdee": "èº«é•· (cm)",
                "label-age-tdee": "å¹´é½¢",
                "label-activity": "æ´»å‹•ãƒ¬ãƒ™ãƒ«",
                "activity-sedentary": "åº§ã‚ŠãŒã¡ (ã»ã¨ã‚“ã©é‹å‹•ãªã—)",
                "activity-light": "è»½ã„æ´»å‹• (é€±1-3æ—¥)",
                "activity-moderate": "ä¸­ç¨‹åº¦ã®æ´»å‹• (é€±3-5æ—¥)",
                "activity-very": "é«˜ã„æ´»å‹• (é€±6-7æ—¥)",
                "activity-extra": "éå¸¸ã«é«˜ã„æ´»å‹• (è‚‰ä½“åŠ´åƒã¾ãŸã¯1æ—¥2å›ã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°)",
                "btn-calculate-tdee": "TDEEã‚’è¨ˆç®—",
                "calories-title": "ã‚«ãƒ­ãƒªãƒ¼ç›®æ¨™è¨ˆç®—æ©Ÿ",
                "label-gender-cal": "æ€§åˆ¥",
                "gender-male-cal": "ç”·æ€§",
                "gender-female-cal": "å¥³æ€§",
                "label-weight-cal": "ä½“é‡ (kg)",
                "label-height-cal": "èº«é•· (cm)",
                "label-age-cal": "å¹´é½¢",
                "label-activity-cal": "æ´»å‹•ãƒ¬ãƒ™ãƒ«",
                "activity-sedentary-cal": "åº§ã‚ŠãŒã¡ (ã»ã¨ã‚“ã©é‹å‹•ãªã—)",
                "activity-light-cal": "è»½ã„æ´»å‹• (é€±1-3æ—¥)",
                "activity-moderate-cal": "ä¸­ç¨‹åº¦ã®æ´»å‹• (é€±3-5æ—¥)",
                "activity-very-cal": "é«˜ã„æ´»å‹• (é€±6-7æ—¥)",
                "activity-extra-cal": "éå¸¸ã«é«˜ã„æ´»å‹• (è‚‰ä½“åŠ´åƒã¾ãŸã¯1æ—¥2å›ã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°)",
                "label-goal": "ç›®æ¨™",
                "goal-lose": "æ¸›é‡ (é€±0.5kg)",
                "goal-lose-fast": "æ€¥é€Ÿæ¸›é‡ (é€±1kg)",
                "goal-maintain": "ä½“é‡ç¶­æŒ",
                "goal-gain": "å¢—é‡ (é€±0.5kg)",
                "goal-gain-fast": "æ€¥é€Ÿå¢—é‡ (é€±1kg)",
                "btn-calculate-cal": "ã‚«ãƒ­ãƒªãƒ¼ç›®æ¨™ã‚’è¨ˆç®—",
                "macros-title": "ãƒã‚¯ãƒ­æ „é¤Šç´ è¨ˆç®—æ©Ÿ",
                "label-target-cal": "ç›®æ¨™ã‚«ãƒ­ãƒªãƒ¼",
                "label-diet-type": "é£Ÿäº‹ã‚¿ã‚¤ãƒ—",
                "diet-balanced": "ãƒãƒ©ãƒ³ã‚¹ (40/30/30)",
                "diet-low-carb": "ä½ç‚­æ°´åŒ–ç‰© (30/40/30)",
                "diet-high-protein": "é«˜ã‚¿ãƒ³ãƒ‘ã‚¯è³ª (30/40/30)",
                "diet-keto": "ã‚±ãƒˆã‚¸ã‚§ãƒ‹ãƒƒã‚¯ (5/25/70)",
                "diet-high-carb": "é«˜ç‚­æ°´åŒ–ç‰© (50/25/25)",
                "btn-calculate-macros": "ãƒã‚¯ãƒ­ã‚’è¨ˆç®—",
                "heartrate-title": "å¿ƒæ‹ã‚¾ãƒ¼ãƒ³è¨ˆç®—æ©Ÿ",
                "label-age-hr": "å¹´é½¢",
                "label-resting-hr": "å®‰é™æ™‚å¿ƒæ‹æ•° (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)",
                "btn-calculate-hr": "å¿ƒæ‹ã‚¾ãƒ¼ãƒ³ã‚’è¨ˆç®—",
                "footer-text": "åŒ»ç™‚ã‚°ãƒ¬ãƒ¼ãƒ‰ã®è¨ˆç®—å¼ â€¢ ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ä¿å­˜ â€¢ ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼å„ªå…ˆ",
                "footer-disclaimer": "å…è²¬äº‹é …: ã“ã®è¨ˆç®—æ©Ÿã¯æƒ…å ±æä¾›ã®ã¿ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚åŒ»ç™‚ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã«ã¤ã„ã¦ã¯åŒ»ç™‚å°‚é–€å®¶ã«ã”ç›¸è«‡ãã ã•ã„ã€‚",
                "save-text": "âœ“ ãƒ‡ãƒ¼ã‚¿ä¿å­˜å®Œäº†",
                "your-bmi": "ã‚ãªãŸã®BMI",
                "category": "ã‚«ãƒ†ã‚´ãƒªãƒ¼",
                "underweight": "ä½ä½“é‡",
                "normal": "æ­£å¸¸ä½“é‡",
                "overweight": "éä½“é‡",
                "obese": "è‚¥æº€",
                "your-bodyfat": "ã‚ãªãŸã®ä½“è„‚è‚ªç‡",
                "essential-fat": "å¿…é ˆè„‚è‚ª",
                "athletes": "ã‚¢ã‚¹ãƒªãƒ¼ãƒˆ",
                "fitness": "ãƒ•ã‚£ãƒƒãƒˆãƒã‚¹",
                "average": "å¹³å‡",
                "your-bmr": "ã‚ãªãŸã®BMR",
                "calories-per-day": "ã‚«ãƒ­ãƒªãƒ¼/æ—¥",
                "bmr-description": "ã“ã‚Œã¯å®‰é™æ™‚ã«ä½“ãŒåŸºæœ¬æ©Ÿèƒ½ã‚’ç¶­æŒã™ã‚‹ãŸã‚ã«å¿…è¦ãªã‚«ãƒ­ãƒªãƒ¼æ•°ã§ã™ã€‚",
                "your-tdee": "ã‚ãªãŸã®TDEE",
                "tdee-description": "ã“ã‚Œã¯ã‚ãªãŸã®æ´»å‹•ãƒ¬ãƒ™ãƒ«ã«åŸºã¥ã„ãŸ1æ—¥ã®ç·æ¶ˆè²»ã‚«ãƒ­ãƒªãƒ¼ã§ã™ã€‚",
                "your-calorie-goal": "ã‚ãªãŸã®ã‚«ãƒ­ãƒªãƒ¼ç›®æ¨™",
                "maintenance": "ç¶­æŒ",
                "protein": "ã‚¿ãƒ³ãƒ‘ã‚¯è³ª",
                "carbs": "ç‚­æ°´åŒ–ç‰©",
                "fat": "è„‚è‚ª",
                "grams-per-day": "g/æ—¥",
                "calories": "ã‚«ãƒ­ãƒªãƒ¼",
                "of-total": "å…¨ä½“ã®",
                "heart-rate-zones": "å¿ƒæ‹ã‚¾ãƒ¼ãƒ³",
                "max-hr": "æœ€å¤§å¿ƒæ‹æ•°",
                "bpm": "bpm",
                "zone-1": "ã‚¾ãƒ¼ãƒ³1ï¼šéå¸¸ã«è»½ã„",
                "zone-2": "ã‚¾ãƒ¼ãƒ³2ï¼šè»½ã„",
                "zone-3": "ã‚¾ãƒ¼ãƒ³3ï¼šä¸­ç¨‹åº¦",
                "zone-4": "ã‚¾ãƒ¼ãƒ³4ï¼šãã¤ã„",
                "zone-5": "ã‚¾ãƒ¼ãƒ³5ï¼šæœ€å¤§",
                "zone-1-desc": "ã‚¦ã‚©ãƒ¼ãƒ ã‚¢ãƒƒãƒ—ã€å›å¾©",
                "zone-2-desc": "è„‚è‚ªç‡ƒç„¼ã€åŸºç¤ä½“åŠ›",
                "zone-3-desc": "æœ‰é…¸ç´ ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°",
                "zone-4-desc": "ç„¡é…¸ç´ é–¾å€¤",
                "zone-5-desc": "æœ€å¤§åŠªåŠ›"
            },
            ko: {
                subtitle: "ê³ ê¸‰ í”¼íŠ¸ë‹ˆìŠ¤ ë° ê±´ê°• ê³„ì‚°ê¸°",
                "tab-bmi": "BMI ê³„ì‚°ê¸°",
                "tab-bodyfat": "ì²´ì§€ë°©ë¥ ",
                "tab-bmr": "BMR ê³„ì‚°ê¸°",
                "tab-tdee": "TDEE ê³„ì‚°ê¸°",
                "tab-calories": "ì¹¼ë¡œë¦¬ ëª©í‘œ",
                "tab-macros": "ë§¤í¬ë¡œ ê³„ì‚°ê¸°",
                "tab-heartrate": "ì‹¬ë°•ìˆ˜ êµ¬ê°„",
                "bmi-title": "ì²´ì§ˆëŸ‰ ì§€ìˆ˜ (BMI) ê³„ì‚°ê¸°",
                "label-weight": "ì²´ì¤‘ (kg)",
                "label-height": "í‚¤ (cm)",
                "btn-calculate-bmi": "BMI ê³„ì‚°",
                "bodyfat-title": "ì²´ì§€ë°©ë¥  ê³„ì‚°ê¸°",
                "label-gender": "ì„±ë³„",
                "gender-male": "ë‚¨ì„±",
                "gender-female": "ì—¬ì„±",
                "label-weight-bf": "ì²´ì¤‘ (kg)",
                "label-height-bf": "í‚¤ (cm)",
                "label-age-bf": "ë‚˜ì´",
                "label-neck": "ëª©ë‘˜ë ˆ (cm)",
                "label-waist": "í—ˆë¦¬ë‘˜ë ˆ (cm)",
                "label-hip": "ì—‰ë©ì´ë‘˜ë ˆ (cm)",
                "label-female-only": "(ì—¬ì„±ë§Œ)",
                "btn-calculate-bf": "ì²´ì§€ë°©ë¥  ê³„ì‚°",
                "bmr-title": "ê¸°ì´ˆëŒ€ì‚¬ìœ¨ (BMR) ê³„ì‚°ê¸°",
                "label-gender-bmr": "ì„±ë³„",
                "gender-male-bmr": "ë‚¨ì„±",
                "gender-female-bmr": "ì—¬ì„±",
                "label-weight-bmr": "ì²´ì¤‘ (kg)",
                "label-height-bmr": "í‚¤ (cm)",
                "label-age-bmr": "ë‚˜ì´",
                "btn-calculate-bmr": "BMR ê³„ì‚°",
                "tdee-title": "ì´ ì¼ì¼ ì—ë„ˆì§€ ì†Œë¹„ëŸ‰ (TDEE) ê³„ì‚°ê¸°",
                "label-gender-tdee": "ì„±ë³„",
                "gender-male-tdee": "ë‚¨ì„±",
                "gender-female-tdee": "ì—¬ì„±",
                "label-weight-tdee": "ì²´ì¤‘ (kg)",
                "label-height-tdee": "í‚¤ (cm)",
                "label-age-tdee": "ë‚˜ì´",
                "label-activity": "í™œë™ ìˆ˜ì¤€",
                "activity-sedentary": "ì¢Œì‹ ìƒí™œ (ìš´ë™ ê±°ì˜ ì—†ìŒ)",
                "activity-light": "ê°€ë²¼ìš´ í™œë™ (ì£¼ 1-3ì¼)",
                "activity-moderate": "ì¤‘ê°„ í™œë™ (ì£¼ 3-5ì¼)",
                "activity-very": "í™œë°œí•œ í™œë™ (ì£¼ 6-7ì¼)",
                "activity-extra": "ë§¤ìš° í™œë°œí•œ í™œë™ (ìœ¡ì²´ ë…¸ë™ ë˜ëŠ” í•˜ë£¨ 2íšŒ í›ˆë ¨)",
                "btn-calculate-tdee": "TDEE ê³„ì‚°",
                "calories-title": "ì¹¼ë¡œë¦¬ ëª©í‘œ ê³„ì‚°ê¸°",
                "label-gender-cal": "ì„±ë³„",
                "gender-male-cal": "ë‚¨ì„±",
                "gender-female-cal": "ì—¬ì„±",
                "label-weight-cal": "ì²´ì¤‘ (kg)",
                "label-height-cal": "í‚¤ (cm)",
                "label-age-cal": "ë‚˜ì´",
                "label-activity-cal": "í™œë™ ìˆ˜ì¤€",
                "activity-sedentary-cal": "ì¢Œì‹ ìƒí™œ (ìš´ë™ ê±°ì˜ ì—†ìŒ)",
                "activity-light-cal": "ê°€ë²¼ìš´ í™œë™ (ì£¼ 1-3ì¼)",
                "activity-moderate-cal": "ì¤‘ê°„ í™œë™ (ì£¼ 3-5ì¼)",
                "activity-very-cal": "í™œë°œí•œ í™œë™ (ì£¼ 6-7ì¼)",
                "activity-extra-cal": "ë§¤ìš° í™œë°œí•œ í™œë™ (ìœ¡ì²´ ë…¸ë™ ë˜ëŠ” í•˜ë£¨ 2íšŒ í›ˆë ¨)",
                "label-goal": "ëª©í‘œ",
                "goal-lose": "ì²´ì¤‘ ê°ëŸ‰ (ì£¼ë‹¹ 0.5kg)",
                "goal-lose-fast": "ë¹ ë¥¸ ì²´ì¤‘ ê°ëŸ‰ (ì£¼ë‹¹ 1kg)",
                "goal-maintain": "ì²´ì¤‘ ìœ ì§€",
                "goal-gain": "ì²´ì¤‘ ì¦ê°€ (ì£¼ë‹¹ 0.5kg)",
                "goal-gain-fast": "ë¹ ë¥¸ ì²´ì¤‘ ì¦ê°€ (ì£¼ë‹¹ 1kg)",
                "btn-calculate-cal": "ì¹¼ë¡œë¦¬ ëª©í‘œ ê³„ì‚°",
                "macros-title": "ë‹¤ëŸ‰ ì˜ì–‘ì†Œ ê³„ì‚°ê¸°",
                "label-target-cal": "ëª©í‘œ ì¹¼ë¡œë¦¬",
                "label-diet-type": "ì‹ë‹¨ ìœ í˜•",
                "diet-balanced": "ê· í˜• (40/30/30)",
                "diet-low-carb": "ì €íƒ„ìˆ˜í™”ë¬¼ (30/40/30)",
                "diet-high-protein": "ê³ ë‹¨ë°±ì§ˆ (30/40/30)",
                "diet-keto": "ì¼€í†  (5/25/70)",
                "diet-high-carb": "ê³ íƒ„ìˆ˜í™”ë¬¼ (50/25/25)",
                "btn-calculate-macros": "ë§¤í¬ë¡œ ê³„ì‚°",
                "heartrate-title": "ì‹¬ë°•ìˆ˜ êµ¬ê°„ ê³„ì‚°ê¸°",
                "label-age-hr": "ë‚˜ì´",
                "label-resting-hr": "ì•ˆì •ì‹œ ì‹¬ë°•ìˆ˜ (ì„ íƒì‚¬í•­)",
                "btn-calculate-hr": "ì‹¬ë°•ìˆ˜ êµ¬ê°„ ê³„ì‚°",
                "footer-text": "ì˜í•™ ë“±ê¸‰ ê³µì‹ â€¢ ë¡œì»¬ ë°ì´í„° ì €ì¥ â€¢ ê°œì¸ì •ë³´ ìš°ì„ ",
                "footer-disclaimer": "ë©´ì±… ì¡°í•­: ì´ ê³„ì‚°ê¸°ëŠ” ì •ë³´ ì œê³µ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©ë©ë‹ˆë‹¤. ì˜ë£Œ ì¡°ì–¸ì€ ì˜ë£Œ ì „ë¬¸ê°€ì™€ ìƒë‹´í•˜ì‹­ì‹œì˜¤.",
                "save-text": "âœ“ ë°ì´í„° ì €ì¥ë¨",
                "your-bmi": "ê·€í•˜ì˜ BMI",
                "category": "ë²”ì£¼",
                "underweight": "ì €ì²´ì¤‘",
                "normal": "ì •ìƒ ì²´ì¤‘",
                "overweight": "ê³¼ì²´ì¤‘",
                "obese": "ë¹„ë§Œ",
                "your-bodyfat": "ê·€í•˜ì˜ ì²´ì§€ë°©ë¥ ",
                "essential-fat": "í•„ìˆ˜ ì§€ë°©",
                "athletes": "ìš´ë™ì„ ìˆ˜",
                "fitness": "í”¼íŠ¸ë‹ˆìŠ¤",
                "average": "í‰ê· ",
                "your-bmr": "ê·€í•˜ì˜ BMR",
                "calories-per-day": "ì¹¼ë¡œë¦¬/ì¼",
                "bmr-description": "ì´ê²ƒì€ íœ´ì‹ ì¤‘ì— ì‹ ì²´ê°€ ê¸°ë³¸ ê¸°ëŠ¥ì„ ìœ ì§€í•˜ëŠ” ë° í•„ìš”í•œ ì¹¼ë¡œë¦¬ ìˆ˜ì…ë‹ˆë‹¤.",
                "your-tdee": "ê·€í•˜ì˜ TDEE",
                "tdee-description": "ì´ê²ƒì€ í™œë™ ìˆ˜ì¤€ì— ë”°ë¥¸ ì´ ì¼ì¼ ì—ë„ˆì§€ ì†Œë¹„ëŸ‰ì…ë‹ˆë‹¤.",
                "your-calorie-goal": "ê·€í•˜ì˜ ì¹¼ë¡œë¦¬ ëª©í‘œ",
                "maintenance": "ìœ ì§€",
                "protein": "ë‹¨ë°±ì§ˆ",
                "carbs": "íƒ„ìˆ˜í™”ë¬¼",
                "fat": "ì§€ë°©",
                "grams-per-day": "g/ì¼",
                "calories": "ì¹¼ë¡œë¦¬",
                "of-total": "ì „ì²´ì˜",
                "heart-rate-zones": "ì‹¬ë°•ìˆ˜ êµ¬ê°„",
                "max-hr": "ìµœëŒ€ ì‹¬ë°•ìˆ˜",
                "bpm": "bpm",
                "zone-1": "êµ¬ê°„ 1: ë§¤ìš° ê°€ë²¼ì›€",
                "zone-2": "êµ¬ê°„ 2: ê°€ë²¼ì›€",
                "zone-3": "êµ¬ê°„ 3: ì¤‘ê°„",
                "zone-4": "êµ¬ê°„ 4: í˜ë“¦",
                "zone-5": "êµ¬ê°„ 5: ìµœëŒ€",
                "zone-1-desc": "ì›Œë°ì—…, íšŒë³µ",
                "zone-2-desc": "ì§€ë°© ì—°ì†Œ, ê¸°ì´ˆ ì²´ë ¥",
                "zone-3-desc": "ìœ ì‚°ì†Œ í›ˆë ¨",
                "zone-4-desc": "ë¬´ì‚°ì†Œ ì—­ì¹˜",
                "zone-5-desc": "ìµœëŒ€ ë…¸ë ¥"
            }
        };

        // Current language
        let currentLang = localStorage.getItem('fitcalc-lang') || 'en';

        // Update translations
        function updateTranslations() {
            const lang = translations[currentLang];
            Object.keys(lang).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    if (element.tagName === 'INPUT' || element.tagName === 'BUTTON') {
                        element.placeholder = lang[key];
                        if (element.tagName === 'BUTTON') {
                            element.textContent = lang[key];
                        }
                    } else {
                        element.textContent = lang[key];
                    }
                }
            });
        }

        // Language switcher
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentLang = btn.dataset.lang;
                localStorage.setItem('fitcalc-lang', currentLang);
                updateTranslations();
            });
        });

        // Set active language on load
        document.querySelector(`.lang-btn[data-lang="${currentLang}"]`).classList.add('active');
        updateTranslations();

        // Calculator tabs
        document.querySelectorAll('.calc-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const calcType = tab.dataset.calc;

                // Update tabs
                document.querySelectorAll('.calc-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');

                // Update content
                document.querySelectorAll('.calc-content').forEach(c => c.classList.remove('active'));
                document.getElementById(`calc-${calcType}`).classList.add('active');

                // Save active tab
                localStorage.setItem('fitcalc-active-tab', calcType);
            });
        });

        // Restore active tab
        const activeTab = localStorage.getItem('fitcalc-active-tab');
        if (activeTab) {
            document.querySelector(`.calc-tab[data-calc="${activeTab}"]`)?.click();
        }

        // Show save indicator
        function showSaveIndicator() {
            const indicator = document.getElementById('save-indicator');
            indicator.classList.add('show');
            setTimeout(() => {
                indicator.classList.remove('show');
            }, 2000);
        }

        // Save to localStorage
        function saveData(key, value) {
            localStorage.setItem(`fitcalc-${key}`, value);
            showSaveIndicator();
        }

        // Load from localStorage
        function loadData(key) {
            return localStorage.getItem(`fitcalc-${key}`);
        }

        // Auto-fill saved data
        function autoFillForm(formId, fields) {
            fields.forEach(field => {
                const element = document.getElementById(`${formId}-${field}`);
                if (element) {
                    const savedValue = loadData(`${formId}-${field}`);
                    if (savedValue) {
                        if (element.type === 'radio') {
                            document.querySelector(`input[name="${formId}-${field}"][value="${savedValue}"]`).checked = true;
                        } else {
                            element.value = savedValue;
                        }
                    }
                }
            });
        }

        // BMI Calculator
        document.getElementById('bmi-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const weight = parseFloat(document.getElementById('bmi-weight').value);
            const height = parseFloat(document.getElementById('bmi-height').value) / 100; // cm to m

            saveData('bmi-weight', weight);
            saveData('bmi-height', height * 100);

            const bmi = weight / (height * height);
            let category, categoryClass;

            if (bmi < 18.5) {
                category = translations[currentLang]['underweight'];
                categoryClass = 'text-blue-400';
            } else if (bmi < 25) {
                category = translations[currentLang]['normal'];
                categoryClass = 'text-green-400';
            } else if (bmi < 30) {
                category = translations[currentLang]['overweight'];
                categoryClass = 'text-yellow-400';
            } else {
                category = translations[currentLang]['obese'];
                categoryClass = 'text-red-400';
            }

            document.getElementById('bmi-result').innerHTML = `
                <div class="result-box">
                    <p class="text-gray-300 mb-2">${translations[currentLang]['your-bmi']}</p>
                    <div class="result-value">${bmi.toFixed(1)}</div>
                    <p class="text-gray-300 mt-4">${translations[currentLang]['category']}</p>
                    <span class="category-label ${categoryClass}">${category}</span>
                </div>
            `;
            document.getElementById('bmi-result').classList.remove('hidden');
        });

        autoFillForm('bmi', ['weight', 'height']);

        // Body Fat Calculator (US Navy Method)
        document.getElementById('bodyfat-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const gender = document.querySelector('input[name="bf-gender"]:checked').value;
            const weight = parseFloat(document.getElementById('bf-weight').value);
            const height = parseFloat(document.getElementById('bf-height').value);
            const age = parseInt(document.getElementById('bf-age').value);
            const neck = parseFloat(document.getElementById('bf-neck').value);
            const waist = parseFloat(document.getElementById('bf-waist').value);
            const hip = parseFloat(document.getElementById('bf-hip').value) || 0;

            saveData('bf-gender', gender);
            saveData('bf-weight', weight);
            saveData('bf-height', height);
            saveData('bf-age', age);
            saveData('bf-neck', neck);
            saveData('bf-waist', waist);
            if (hip) saveData('bf-hip', hip);

            let bodyFat;

            if (gender === 'male') {
                // US Navy formula for men
                bodyFat = 495 / (1.0324 - 0.19077 * Math.log10(waist - neck) + 0.15456 * Math.log10(height)) - 450;
            } else {
                // US Navy formula for women
                bodyFat = 495 / (1.29579 - 0.35004 * Math.log10(waist + hip - neck) + 0.22100 * Math.log10(height)) - 450;
            }

            let category, categoryClass;

            if (gender === 'male') {
                if (bodyFat < 6) {
                    category = translations[currentLang]['essential-fat'];
                    categoryClass = 'text-blue-400';
                } else if (bodyFat < 14) {
                    category = translations[currentLang]['athletes'];
                    categoryClass = 'text-green-400';
                } else if (bodyFat < 18) {
                    category = translations[currentLang]['fitness'];
                    categoryClass = 'text-cyan-400';
                } else if (bodyFat < 25) {
                    category = translations[currentLang]['average'];
                    categoryClass = 'text-yellow-400';
                } else {
                    category = translations[currentLang]['obese'];
                    categoryClass = 'text-red-400';
                }
            } else {
                if (bodyFat < 14) {
                    category = translations[currentLang]['essential-fat'];
                    categoryClass = 'text-blue-400';
                } else if (bodyFat < 21) {
                    category = translations[currentLang]['athletes'];
                    categoryClass = 'text-green-400';
                } else if (bodyFat < 25) {
                    category = translations[currentLang]['fitness'];
                    categoryClass = 'text-cyan-400';
                } else if (bodyFat < 32) {
                    category = translations[currentLang]['average'];
                    categoryClass = 'text-yellow-400';
                } else {
                    category = translations[currentLang]['obese'];
                    categoryClass = 'text-red-400';
                }
            }

            document.getElementById('bodyfat-result').innerHTML = `
                <div class="result-box">
                    <p class="text-gray-300 mb-2">${translations[currentLang]['your-bodyfat']}</p>
                    <div class="result-value">${bodyFat.toFixed(1)}%</div>
                    <p class="text-gray-300 mt-4">${translations[currentLang]['category']}</p>
                    <span class="category-label ${categoryClass}">${category}</span>
                </div>
            `;
            document.getElementById('bodyfat-result').classList.remove('hidden');
        });

        autoFillForm('bf', ['gender', 'weight', 'height', 'age', 'neck', 'waist', 'hip']);

        // BMR Calculator (Mifflin-St Jeor Equation)
        document.getElementById('bmr-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const gender = document.querySelector('input[name="bmr-gender"]:checked').value;
            const weight = parseFloat(document.getElementById('bmr-weight').value);
            const height = parseFloat(document.getElementById('bmr-height').value);
            const age = parseInt(document.getElementById('bmr-age').value);

            saveData('bmr-gender', gender);
            saveData('bmr-weight', weight);
            saveData('bmr-height', height);
            saveData('bmr-age', age);

            let bmr;

            if (gender === 'male') {
                bmr = 10 * weight + 6.25 * height - 5 * age + 5;
            } else {
                bmr = 10 * weight + 6.25 * height - 5 * age - 161;
            }

            document.getElementById('bmr-result').innerHTML = `
                <div class="result-box">
                    <p class="text-gray-300 mb-2">${translations[currentLang]['your-bmr']}</p>
                    <div class="result-value">${Math.round(bmr)}</div>
                    <p class="text-sm text-gray-400 mt-2">${translations[currentLang]['calories-per-day']}</p>
                    <p class="text-gray-300 mt-4 text-sm">${translations[currentLang]['bmr-description']}</p>
                </div>
            `;
            document.getElementById('bmr-result').classList.remove('hidden');
        });

        autoFillForm('bmr', ['gender', 'weight', 'height', 'age']);

        // TDEE Calculator
        document.getElementById('tdee-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const gender = document.querySelector('input[name="tdee-gender"]:checked').value;
            const weight = parseFloat(document.getElementById('tdee-weight').value);
            const height = parseFloat(document.getElementById('tdee-height').value);
            const age = parseInt(document.getElementById('tdee-age').value);
            const activity = parseFloat(document.getElementById('tdee-activity').value);

            saveData('tdee-gender', gender);
            saveData('tdee-weight', weight);
            saveData('tdee-height', height);
            saveData('tdee-age', age);
            saveData('tdee-activity', activity);

            let bmr;

            if (gender === 'male') {
                bmr = 10 * weight + 6.25 * height - 5 * age + 5;
            } else {
                bmr = 10 * weight + 6.25 * height - 5 * age - 161;
            }

            const tdee = bmr * activity;

            document.getElementById('tdee-result').innerHTML = `
                <div class="result-box">
                    <p class="text-gray-300 mb-2">${translations[currentLang]['your-tdee']}</p>
                    <div class="result-value">${Math.round(tdee)}</div>
                    <p class="text-sm text-gray-400 mt-2">${translations[currentLang]['calories-per-day']}</p>
                    <p class="text-gray-300 mt-4 text-sm">${translations[currentLang]['tdee-description']}</p>
                </div>
            `;
            document.getElementById('tdee-result').classList.remove('hidden');
        });

        autoFillForm('tdee', ['gender', 'weight', 'height', 'age', 'activity']);

        // Calorie Goals Calculator
        document.getElementById('calories-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const gender = document.querySelector('input[name="cal-gender"]:checked').value;
            const weight = parseFloat(document.getElementById('cal-weight').value);
            const height = parseFloat(document.getElementById('cal-height').value);
            const age = parseInt(document.getElementById('cal-age').value);
            const activity = parseFloat(document.getElementById('cal-activity').value);
            const goal = document.getElementById('cal-goal').value;

            saveData('cal-gender', gender);
            saveData('cal-weight', weight);
            saveData('cal-height', height);
            saveData('cal-age', age);
            saveData('cal-activity', activity);
            saveData('cal-goal', goal);

            let bmr;

            if (gender === 'male') {
                bmr = 10 * weight + 6.25 * height - 5 * age + 5;
            } else {
                bmr = 10 * weight + 6.25 * height - 5 * age - 161;
            }

            const tdee = bmr * activity;
            let targetCalories;

            switch(goal) {
                case 'lose':
                    targetCalories = tdee - 500;
                    break;
                case 'lose-fast':
                    targetCalories = tdee - 1000;
                    break;
                case 'maintain':
                    targetCalories = tdee;
                    break;
                case 'gain':
                    targetCalories = tdee + 500;
                    break;
                case 'gain-fast':
                    targetCalories = tdee + 1000;
                    break;
            }

            document.getElementById('calories-result').innerHTML = `
                <div class="result-box">
                    <p class="text-gray-300 mb-2">${translations[currentLang]['your-calorie-goal']}</p>
                    <div class="result-value">${Math.round(targetCalories)}</div>
                    <p class="text-sm text-gray-400 mt-2">${translations[currentLang]['calories-per-day']}</p>
                    <div class="mt-6 pt-6 border-t border-gray-700">
                        <p class="text-sm text-gray-400 mb-2">${translations[currentLang]['maintenance']}: ${Math.round(tdee)} ${translations[currentLang]['calories']}</p>
                        <p class="text-sm text-gray-400">BMR: ${Math.round(bmr)} ${translations[currentLang]['calories']}</p>
                    </div>
                </div>
            `;
            document.getElementById('calories-result').classList.remove('hidden');
        });

        autoFillForm('cal', ['gender', 'weight', 'height', 'age', 'activity', 'goal']);

        // Macros Calculator
        document.getElementById('macros-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const calories = parseInt(document.getElementById('macros-calories').value);
            const dietType = document.getElementById('macros-diet').value;

            saveData('macros-calories', calories);
            saveData('macros-diet', dietType);

            let proteinPercent, carbsPercent, fatPercent;

            switch(dietType) {
                case 'balanced':
                    carbsPercent = 40;
                    proteinPercent = 30;
                    fatPercent = 30;
                    break;
                case 'low-carb':
                    carbsPercent = 30;
                    proteinPercent = 40;
                    fatPercent = 30;
                    break;
                case 'high-protein':
                    carbsPercent = 30;
                    proteinPercent = 40;
                    fatPercent = 30;
                    break;
                case 'keto':
                    carbsPercent = 5;
                    proteinPercent = 25;
                    fatPercent = 70;
                    break;
                case 'high-carb':
                    carbsPercent = 50;
                    proteinPercent = 25;
                    fatPercent = 25;
                    break;
            }

            const proteinGrams = Math.round((calories * proteinPercent / 100) / 4);
            const carbsGrams = Math.round((calories * carbsPercent / 100) / 4);
            const fatGrams = Math.round((calories * fatPercent / 100) / 9);

            const proteinCals = proteinGrams * 4;
            const carbsCals = carbsGrams * 4;
            const fatCals = fatGrams * 9;

            document.getElementById('macros-result').innerHTML = `
                <div class="result-box">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div>
                            <p class="text-sm text-gray-400 mb-2">${translations[currentLang]['protein']}</p>
                            <div class="text-3xl font-bold text-cyan-400">${proteinGrams}g</div>
                            <p class="text-xs text-gray-500 mt-1">${proteinCals} ${translations[currentLang]['calories']} â€¢ ${proteinPercent}% ${translations[currentLang]['of-total']}</p>
                            <div class="macro-bar">
                                <div class="macro-bar-fill" style="width: ${proteinPercent}%"></div>
                            </div>
                        </div>
                        <div>
                            <p class="text-sm text-gray-400 mb-2">${translations[currentLang]['carbs']}</p>
                            <div class="text-3xl font-bold text-purple-400">${carbsGrams}g</div>
                            <p class="text-xs text-gray-500 mt-1">${carbsCals} ${translations[currentLang]['calories']} â€¢ ${carbsPercent}% ${translations[currentLang]['of-total']}</p>
                            <div class="macro-bar">
                                <div class="macro-bar-fill" style="width: ${carbsPercent}%"></div>
                            </div>
                        </div>
                        <div>
                            <p class="text-sm text-gray-400 mb-2">${translations[currentLang]['fat']}</p>
                            <div class="text-3xl font-bold text-yellow-400">${fatGrams}g</div>
                            <p class="text-xs text-gray-500 mt-1">${fatCals} ${translations[currentLang]['calories']} â€¢ ${fatPercent}% ${translations[currentLang]['of-total']}</p>
                            <div class="macro-bar">
                                <div class="macro-bar-fill" style="width: ${fatPercent}%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('macros-result').classList.remove('hidden');
        });

        autoFillForm('macros', ['calories', 'diet']);

        // Heart Rate Zones Calculator
        document.getElementById('heartrate-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const age = parseInt(document.getElementById('hr-age').value);
            const restingHR = parseInt(document.getElementById('hr-resting').value) || null;

            saveData('hr-age', age);
            if (restingHR) saveData('hr-resting', restingHR);

            const maxHR = 220 - age;

            let zones;

            if (restingHR) {
                // Karvonen formula (Heart Rate Reserve)
                const hrr = maxHR - restingHR;
                zones = [
                    { name: translations[currentLang]['zone-1'], desc: translations[currentLang]['zone-1-desc'], min: Math.round(restingHR + hrr * 0.5), max: Math.round(restingHR + hrr * 0.6), class: 'zone-very-light' },
                    { name: translations[currentLang]['zone-2'], desc: translations[currentLang]['zone-2-desc'], min: Math.round(restingHR + hrr * 0.6), max: Math.round(restingHR + hrr * 0.7), class: 'zone-light' },
                    { name: translations[currentLang]['zone-3'], desc: translations[currentLang]['zone-3-desc'], min: Math.round(restingHR + hrr * 0.7), max: Math.round(restingHR + hrr * 0.8), class: 'zone-moderate' },
                    { name: translations[currentLang]['zone-4'], desc: translations[currentLang]['zone-4-desc'], min: Math.round(restingHR + hrr * 0.8), max: Math.round(restingHR + hrr * 0.9), class: 'zone-hard' },
                    { name: translations[currentLang]['zone-5'], desc: translations[currentLang]['zone-5-desc'], min: Math.round(restingHR + hrr * 0.9), max: maxHR, class: 'zone-maximum' }
                ];
            } else {
                // Simple percentage of max HR
                zones = [
                    { name: translations[currentLang]['zone-1'], desc: translations[currentLang]['zone-1-desc'], min: Math.round(maxHR * 0.5), max: Math.round(maxHR * 0.6), class: 'zone-very-light' },
                    { name: translations[currentLang]['zone-2'], desc: translations[currentLang]['zone-2-desc'], min: Math.round(maxHR * 0.6), max: Math.round(maxHR * 0.7), class: 'zone-light' },
                    { name: translations[currentLang]['zone-3'], desc: translations[currentLang]['zone-3-desc'], min: Math.round(maxHR * 0.7), max: Math.round(maxHR * 0.8), class: 'zone-moderate' },
                    { name: translations[currentLang]['zone-4'], desc: translations[currentLang]['zone-4-desc'], min: Math.round(maxHR * 0.8), max: Math.round(maxHR * 0.9), class: 'zone-hard' },
                    { name: translations[currentLang]['zone-5'], desc: translations[currentLang]['zone-5-desc'], min: Math.round(maxHR * 0.9), max: maxHR, class: 'zone-maximum' }
                ];
            }

            let zonesHTML = zones.map(zone => `
                <div class="border-l-4 border-${zone.class.replace('zone-', '')} pl-4 py-2">
                    <p class="font-semibold ${zone.class}">${zone.name}</p>
                    <p class="text-2xl font-bold mt-1">${zone.min} - ${zone.max} ${translations[currentLang]['bpm']}</p>
                    <p class="text-sm text-gray-400 mt-1">${zone.desc}</p>
                </div>
            `).join('');

            document.getElementById('heartrate-result').innerHTML = `
                <div class="result-box">
                    <p class="text-gray-300 mb-2">${translations[currentLang]['heart-rate-zones']}</p>
                    <div class="mb-6 pb-6 border-b border-gray-700">
                        <p class="text-sm text-gray-400">${translations[currentLang]['max-hr']}</p>
                        <div class="text-4xl font-bold text-red-400 mt-1">${maxHR} ${translations[currentLang]['bpm']}</div>
                    </div>
                    <div class="space-y-4">
                        ${zonesHTML}
                    </div>
                </div>
            `;
            document.getElementById('heartrate-result').classList.remove('hidden');
        });

        autoFillForm('hr', ['age', 'resting']);
    </script>
</body>
</html>